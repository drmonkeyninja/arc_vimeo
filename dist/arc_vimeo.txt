# arc_vimeo v1.1
# Embed Vimeo videos with customised player
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6OToiYXJjX3ZpbWVvIjtzOjc6InZlcnNpb24iO3M6MzoiMS4x
IjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhvcl91cmkiO3M6
MjM6Imh0dHA6Ly9hbmR5LWNhcnRlci5jb20vIjtzOjExOiJkZXNjcmlwdGlvbiI7czo0MToi
RW1iZWQgVmltZW8gdmlkZW9zIHdpdGggY3VzdG9taXNlZCBwbGF5ZXIiO3M6NDoidHlwZSI7
aTowO3M6NDoiaGVscCI7czo2ODc3OiIJPGgxPmFyY192aW1lbzwvaDE+CgoJPHA+RWFzaWx5
IGVtYmVkIFZpbWVvIHZpZGVvcyBpbiBhcnRpY2xlcyBhbmQgY3VzdG9taXNlIHRoZSBhcHBl
YXJhbmNlIG9mIHRoZSBwbGF5ZXIuPC9wPgoKCTxoMj5UYWJsZSBvZiBjb250ZW50czwvaDI+
CgoJPG9sPgoJCTxsaT48YSBocmVmPSIjaGVscC1zZWN0aW9uMDEiPlBsdWdpbiByZXF1aXJl
bWVudHM8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAyIj5JbnN0YWxs
YXRpb248L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAzIj5UYWdzPC9h
PjwvbGk+CgkJPGxpPjxhIGhyZWY9IiNoZWxwLXNlY3Rpb24wNCI+RXhhbXBsZXM8L2E+PC9s
aT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjA1Ij5BdXRob3I8L2E+PC9saT4KCQk8
bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjA2Ij5MaWNlbnNlPC9hPjwvbGk+Cgk8L29sPgoK
CTxoMiBpZD0iaGVscC1zZWN0aW9uMDEiPlBsdWdpbiByZXF1aXJlbWVudHM8L2gyPgoKCTxw
PmFyY192aW1lbyYjODIxNztzIG1pbmltdW0gcmVxdWlyZW1lbnRzOjwvcD4KCgk8dWw+CgkJ
PGxpPlRleHRwYXR0ZXJuIDQuNSs8L2xpPgoJPC91bD4KCgk8aDIgaWQ9ImhlbHAtc2VjdGlv
bjAyIj5JbnN0YWxsYXRpb248L2gyPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYjODIx
NjtwbHVnaW5zJiM4MjE3OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQgcGFz
dGUgdGhlIHBsdWdpbiBjb2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYjODIx
NzsgYm94LCAmIzgyMTY7dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFsbCYj
ODIxNzsuIFBsZWFzZSBub3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBzZXQtdXAgYSBjdXN0
b20gZmllbGQgdG8gdXNlIGZvciBhc3NvY2lhdGluZyB2aWRlb3Mgd2l0aCBhcnRpY2xlcywg
dW5sZXNzIHlvdSBjaG9vc2UgdG8gZGlyZWN0bHkgZW1iZWQgdGhlIG5ldyB0YWcgaW4gdGhl
IGFydGljbGUgdGV4dC48L3A+CgoJPGgyIGlkPSJoZWxwLXNlY3Rpb24wMyI+VGFnczwvaDI+
CgoJPGgzPmFyY192aW1lbzwvaDM+CgoJPHA+RW1iZWRzIGEgVmltZW8gdmlkZW8gaW4gdGhl
IHBhZ2UgdXNpbmcgYW4gaWZyYW1lLjwvcD4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfdmlt
ZW8gLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoND5WaWRlbyBhdHRyaWJ1dGVzPC9oND4KCgk8
dWw+CgkJPGxpPjxlbT52aWRlbzwvZW0+ICYjODIxMTsgVmltZW8gdXJsIG9yIHZpZGVvIElE
IGZvciB0aGUgdmlkZW8geW91IHdhbnQgdG8gZW1iZWQ8L2xpPgoJCTxsaT48ZW0+Y3VzdG9t
PC9lbT4gJiM4MjExOyBOYW1lIG9mIHRoZSBjdXN0b20gZmllbGQgY29udGFpbmluZyB2aWRl
byBJRHMvdXJscyBhc3NvY2lhdGVkIHdpdGggYXJ0aWNsZTwvbGk+Cgk8L3VsPgoKCTxoND5C
YXNpYyBhdHRyaWJ1dGVzPC9oND4KCgk8dWw+CgkJPGxpPjxlbT5sYWJlbDwvZW0+ICYjODIx
MTsgTGFiZWwgZm9yIHRoZSB2aWRlbzwvbGk+CgkJPGxpPjxlbT5sYWJlbHRhZzwvZW0+ICYj
ODIxMTsgSW5kZXBlbmRlbnQgd3JhcHRhZyBmb3IgbGFiZWw8L2xpPgoJCTxsaT48ZW0+d3Jh
cHRhZzwvZW0+ICYjODIxMTsgPHNwYW4gY2xhc3M9ImNhcHMiPkhUTUw8L3NwYW4+IHRhZyB0
byBiZSB1c2VkIGFzIHRoZSB3cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC9saT4KCQk8bGk+
PGVtPmNsYXNzPC9lbT4gJiM4MjExOyA8c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPiBj
bGFzcyBhdHRyaWJ1dGUgZm9yIHdyYXB0YWc8L2xpPgoJPC91bD4KCgk8aDM+Q3VzdG9taXNp
bmcgdGhlIFZpbWVvIHBsYXllcjwvaDM+CgoJPHA+WW91IGNhbiBjdXN0b21pc2UgdGhlIGFw
cGVhcmFuY2Ugb2YgdGhlIFZpbWVvIHBsYXllciB1c2luZyB0aGlzIHBsdWdpbiB0byBkZWZp
bmUgdGhpbmdzIGxpa2UgY29sb3VycyBhbmQgc2l6ZS48L3A+CgoJPHVsPgoJCTxsaT48ZW0+
d2lkdGg8L2VtPiAmIzgyMTE7IFdpZHRoIG9mIHZpZGVvPC9saT4KCQk8bGk+PGVtPmhlaWdo
dDwvZW0+ICYjODIxMTsgSGVpZ2h0IG9mIHZpZGVvPC9saT4KCQk8bGk+PGVtPnJhdGlvPC9l
bT4gJiM4MjExOyBBc3BlY3QgcmF0aW8gKGRlZmF1bHRzIDQ6Myk8L2xpPgoJCTxsaT48ZW0+
Y29sb3I8L2VtPiAmIzgyMTE7IEEgaGV4IGNvbG91ciBjb2RlIGZvciB0aGUgcGxheWVyIFVJ
IGVsZW1lbnRzPC9saT4KCQk8bGk+PGVtPnBvcnRyYWl0PC9lbT4gJiM4MjExOyAmIzgyMTY7
MCYjODIxNzsgdG8gZGlzYWJsZSB0aGUgdXNlciYjODIxNztzIHBvcnRyYWl0PC9saT4KCQk8
bGk+PGVtPnRpdGxlPC9lbT4gJiM4MjExOyAmIzgyMTY7MCYjODIxNzsgdG8gZGlzYWJsZSB0
aGUgdmlkZW8mIzgyMTc7cyB0aXRsZTwvbGk+CgkJPGxpPjxlbT5ieWxpbmU8L2VtPiAmIzgy
MTE7ICYjODIxNjswJiM4MjE3OyB0byBkaXNhYmxlIHRoZSB2aWRlbyYjODIxNztzIGJ5bGlu
ZTwvbGk+CgkJPGxpPjxlbT5iYWRnZTwvZW0+ICYjODIxMTsgJiM4MjE2OzAmIzgyMTc7IHRv
IGRpc2FibGUgdGhlIHZpZGVvJiM4MjE3O3MgYmFkZ2U8L2xpPgoJCTxsaT48ZW0+bG9vcDwv
ZW0+ICYjODIxMTsgJiM4MjE2OzEmIzgyMTc7IHRvIGxvb3AgdGhlIHZpZGVvIG9uIHBsYXk8
L2xpPgoJCTxsaT48ZW0+YXV0b3BsYXk8L2VtPiAmIzgyMTE7ICYjODIxNjsxJiM4MjE3OyB0
byBhdXRvcGxheSB0aGUgdmlkZW8sICYjODIxNjswJiM4MjE3OyB0byB0dXJuIG9mZiBhdXRv
cGxheSAoZGVmYXVsdCk8L2xpPgoJCTxsaT48ZW0+YXV0b3BhdXNlPC9lbT4gJiM4MjExOyAm
IzgyMTY7MSYjODIxNzsgdG8gYXV0b3BhdXNlIHRoZSB2aWRlbyB3aGVuIGFub3RoZXIgaXMg
cGxheWVkIG9uIHRoZSBzYW1lIHBhZ2U8L2xpPgoJPC91bD4KCgk8aDI+YXJjX2lmX3ZpbWVv
PC9oMj4KCgk8cD5JbiBhZGRpdGlvbiB0byBhcmNfdmltZW8gdGhpcyBwbHVnaW4gYWxzbyBj
b21lcyB3aXRoIGFyY19pZl92aW1lbywgYSBjb25kaXRpb25hbCB0YWcgZm9yIGNoZWNraW5n
IGlmIHRoZSB2aWRlbyA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiBpcyBhIFZpbWVv
IG9uZS48L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX2lmX3ZpbWVvIHZpZGVvPSZxdW90
O1tVUkxdJnF1b3Q7Jmd0OyZsdDsvdHhwOmFyY19pZl92aW1lbyZndDsKPC9jb2RlPjwvcHJl
PgoKCTxoND5BdHRyaWJ1dGVzPC9oND4KCgk8cD5Vc2Ugb25lIG9yIHRoZSBvdGhlciBvZiB0
aGUgZm9sbG93aW5nOi08L3A+CgoJPHVsPgoJCTxsaT48ZW0+Y3VzdG9tPC9lbT4gJiM4MjEx
OyBOYW1lIG9mIHRoZSBjdXN0b20gZmllbGQgY29udGFpbmluZyB2aWRlbyBJRHMvdXJscyBh
c3NvY2lhdGVkIHdpdGggYXJ0aWNsZTwvbGk+CgkJPGxpPjxlbT52aWRlbzwvZW0+ICYjODIx
MTsgQSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiB0byBjaGVjayBpZiBpdCBpcyBh
IHZhbGlkIFZpbWVvIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9saT4KCTwvdWw+
CgoJPGgyIGlkPSJoZWxwLXNlY3Rpb24wNCI+RXhhbXBsZXM8L2gyPgoKCTxoMz5FeGFtcGxl
IDE6IFVzZSBjdXN0b20gZmllbGQgdG8gYXNzb2NpYXRlIHZpZGVvIHdpdGggYW4gYXJ0aWNs
ZTwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3ZpbWVvIGN1c3RvbT0mcXVvdDtWaW1l
byZxdW90OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPGgzPkV4YW1wbGUgMjogU2V0IHRoZSBz
aXplIG9mIHRoZSBwbGF5ZXI8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY192aW1lbyB2
aWRlbz0mcXVvdDtodHRwczovL3ZpbWVvLmNvbS84NjI5NTQ1MiZxdW90OyB3aWR0aD0mcXVv
dDs1MDAmcXVvdDsgcmF0aW89JnF1b3Q7MTY6OSZxdW90OyAvJmd0Owo8L2NvZGU+PC9wcmU+
CgoJPGgzPkV4YW1wbGUgMzogVXNpbmcgdGhlIGNvbmRpdGlvbmFsIHRhZzwvaDM+Cgo8cHJl
Pjxjb2RlPiZsdDt0eHA6YXJjX2lmX3ZpbWVvIHZpZGVvPSZxdW90O2h0dHBzOi8vdmltZW8u
Y29tLzg2Mjk1NDUyJnF1b3Q7Jmd0OwoJWWVzCiZsdDt0eHA6ZWxzZSAvJmd0OwoJTm8KJmx0
Oy90eHA6YXJjX2lmX3ZpbWVvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPGgyIGlkPSJoZWxwLXNl
Y3Rpb24wNSI+QXV0aG9yPC9oMj4KCgk8cD48YSBocmVmPSJodHRwOi8vYW5keS1jYXJ0ZXIu
Y29tIj5BbmR5IENhcnRlcjwvYT4uIEZvciBvdGhlciBUZXh0cGF0dGVybiBwbHVnaW5zIGJ5
IG1lIHZpc2l0IG15IDxhIGhyZWY9Imh0dHA6Ly9hbmR5LWNhcnRlci5jb20vdHhwIj5QbHVn
aW5zIHBhZ2U8L2E+LjwvcD4KCgk8aDIgaWQ9ImhlbHAtc2VjdGlvbjA2Ij5MaWNlbnNlPC9o
Mj4KCgk8cD5UaGUgPHNwYW4gY2xhc3M9ImNhcHMiPk1JVDwvc3Bhbj4gTGljZW5zZSAoPHNw
YW4gY2xhc3M9ImNhcHMiPk1JVDwvc3Bhbj4pPC9wPgoKCTxwPkNvcHlyaWdodCAmIzE2OTsg
MjAxNCBBbmR5IENhcnRlcjwvcD4KCgk8cD5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVk
LCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRo
aXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICYj
ODIyMDtTb2Z0d2FyZSYjODIyMTspLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0
IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMg
dG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJs
aWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVy
bWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNv
LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczo8L3A+CgoJPHA+VGhlIGFi
b3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwg
YmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0
aGUgU29mdHdhcmUuPC9wPgoKCTxwPjxzcGFuIGNsYXNzPSJjYXBzIj5USEU8L3NwYW4+IDxz
cGFuIGNsYXNzPSJjYXBzIj5TT0ZUV0FSRTwvc3Bhbj4gSVMgPHNwYW4gY2xhc3M9ImNhcHMi
PlBST1ZJREVEPC9zcGFuPiAmIzgyMjA7QVMgSVMmIzgyMjE7LCA8c3BhbiBjbGFzcz0iY2Fw
cyI+V0lUSE9VVDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPldBUlJBTlRZPC9zcGFuPiBP
RiA8c3BhbiBjbGFzcz0iY2FwcyI+QU5ZPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+S0lO
RDwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJjYXBzIj5FWFBSRVNTPC9zcGFuPiBPUiA8c3BhbiBj
bGFzcz0iY2FwcyI+SU1QTElFRDwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJjYXBzIj5JTkNMVURJ
Tkc8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5CVVQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5OT1Q8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5MSU1JVEVEPC9zcGFuPiBUTyA8
c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+V0FSUkFO
VElFUzwvc3Bhbj4gT0YgPHNwYW4gY2xhc3M9ImNhcHMiPk1FUkNIQU5UQUJJTElUWTwvc3Bh
bj4sIDxzcGFuIGNsYXNzPSJjYXBzIj5GSVRORVNTPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2Fw
cyI+Rk9SPC9zcGFuPiBBIDxzcGFuIGNsYXNzPSJjYXBzIj5QQVJUSUNVTEFSPC9zcGFuPiA8
c3BhbiBjbGFzcz0iY2FwcyI+UFVSUE9TRTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkFO
RDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPk5PTklORlJJTkdFTUVOVDwvc3Bhbj4uIElO
IE5PIDxzcGFuIGNsYXNzPSJjYXBzIj5FVkVOVDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMi
PlNIQUxMPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBjbGFz
cz0iY2FwcyI+QVVUSE9SUzwvc3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNhcHMiPkNPUFlSSUdI
VDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkhPTERFUlM8L3NwYW4+IEJFIDxzcGFuIGNs
YXNzPSJjYXBzIj5MSUFCTEU8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5GT1I8L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5BTlk8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5DTEFJ
TTwvc3Bhbj4sIDxzcGFuIGNsYXNzPSJjYXBzIj5EQU1BR0VTPC9zcGFuPiBPUiA8c3BhbiBj
bGFzcz0iY2FwcyI+T1RIRVI8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5MSUFCSUxJVFk8
L3NwYW4+LCA8c3BhbiBjbGFzcz0iY2FwcyI+V0hFVEhFUjwvc3Bhbj4gSU4gQU4gPHNwYW4g
Y2xhc3M9ImNhcHMiPkFDVElPTjwvc3Bhbj4gT0YgPHNwYW4gY2xhc3M9ImNhcHMiPkNPTlRS
QUNUPC9zcGFuPiwgPHNwYW4gY2xhc3M9ImNhcHMiPlRPUlQ8L3NwYW4+IE9SIDxzcGFuIGNs
YXNzPSJjYXBzIj5PVEhFUldJU0U8L3NwYW4+LCA8c3BhbiBjbGFzcz0iY2FwcyI+QVJJU0lO
Rzwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkZST008L3NwYW4+LCA8c3BhbiBjbGFzcz0i
Y2FwcyI+T1VUPC9zcGFuPiBPRiBPUiBJTiA8c3BhbiBjbGFzcz0iY2FwcyI+Q09OTkVDVElP
Tjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPldJVEg8L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5USEU8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5TT0ZUV0FSRTwvc3Bhbj4gT1Ig
PHNwYW4gY2xhc3M9ImNhcHMiPlRIRTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPlVTRTwv
c3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNhcHMiPk9USEVSPC9zcGFuPiA8c3BhbiBjbGFzcz0i
Y2FwcyI+REVBTElOR1M8L3NwYW4+IElOIDxzcGFuIGNsYXNzPSJjYXBzIj5USEU8L3NwYW4+
IDxzcGFuIGNsYXNzPSJjYXBzIj5TT0ZUV0FSRTwvc3Bhbj4uPC9wPgoKIjtzOjQ6ImNvZGUi
O3M6MzI4NDoiCmZ1bmN0aW9uIGFyY192aW1lbygkYXR0cywgJHRoaW5nKQp7CglnbG9iYWwg
JHRoaXNhcnRpY2xlOwoKCSRkZWZhdWx0cyA9IGFycmF5KAoJCSd2aWRlbycgICAgID0+ICcn
LAoJCSdjdXN0b20nICAgID0+ICdWaW1lbyBJRCcsCgkJJ3dpZHRoJyAgICAgPT4gJzAnLAoJ
CSdoZWlnaHQnICAgID0+ICcwJywKCQkncmF0aW8nCQk9PiAnNDozJywKCQknY29sb3InCQk9
PiBudWxsLAoJCSdwb3J0cmFpdCcJPT4gbnVsbCwKCQkndGl0bGUnCQk9PiBudWxsLAoJCSdi
eWxpbmUnCT0+IG51bGwsCgkJJ2JhZGdlJwkJPT4gbnVsbCwKCQknbG9vcCcJCT0+IG51bGws
CgkJJ2F1dG9wYXVzZScJPT4gbnVsbCwKCQknYXV0b3BsYXknCT0+IG51bGwsCgkJJ2xhYmVs
JyAgICAgPT4gJycsCgkJJ2xhYmVsdGFnJyAgPT4gJycsCgkJJ3dyYXB0YWcnICAgPT4gJycs
CgkJJ2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fCgkpOwoKCWV4dHJhY3QobEF0dHMoJGRl
ZmF1bHRzLCAkYXR0cykpOwoKICAgICRjdXN0b20gPSBzdHJ0b2xvd2VyKCRjdXN0b20pOwog
ICAgaWYgKCR2aWRlbyAmJiBpc3NldCgkdGhpc2FydGljbGVbJGN1c3RvbV0pKSB7CiAgICAg
ICAgJHZpZGVvID0gJHRoaXNhcnRpY2xlWyRjdXN0b21dOwogICAgfQoKICAgICRtYXRjaCA9
IF9hcmNfdmltZW8oJHZpZGVvKTsKICAgIGlmICgkbWF0Y2gpIHsKICAgIAkkdmlkZW8gPSAk
bWF0Y2g7CiAgICB9IGVsc2VpZiAoZW1wdHkoJHZpZGVvKSkgewogICAgCXJldHVybiAnJzsK
ICAgIH0KCiAgICAvLyBJZiB0aGUgd2lkdGggYW5kL29yIGhlaWdodCBoYXMgbm90IGJlZW4g
c2V0IHdlIHdhbnQgdG8gY2FsY3VsYXRlIG5ldwogICAgLy8gb25lcyB1c2luZyB0aGUgYXNw
ZWN0IHJhdGlvLgogICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQpIHsKCiAgICAJLy8gV29y
ayBvdXQgdGhlIGFzcGVjdCByYXRpby4KICAgIAlwcmVnX21hdGNoKCIvKFxkKyk6KFxkKykv
IiwgJHJhdGlvLCAkbWF0Y2hlcyk7CiAgICAJaWYgKCRtYXRjaGVzWzBdICYmICRtYXRjaGVz
WzFdIT0wICYmICRtYXRjaGVzWzJdIT0wKSB7CgkJCSRhc3BlY3QgPSAkbWF0Y2hlc1sxXS8k
bWF0Y2hlc1syXTsKCQl9IGVsc2UgewoJCQkkYXNwZWN0ID0gMS4zMzM7CgkJfQoKCQkvLyBD
YWxjdWF0ZSB0aGUgbmV3IHdpZHRoL2hlaWdodC4KCQlpZiAoJHdpZHRoKSB7CgkJCSRoZWln
aHQgPSAkd2lkdGgvJGFzcGVjdDsKCQl9IGVsc2VpZiAoJGhlaWdodCkgewoJCQkkd2lkdGgg
PSAkaGVpZ2h0KiRhc3BlY3Q7CgkJfSBlbHNlIHsKCQkJJHdpZHRoID0gNDI1OwoJCQkkaGVp
Z2h0ID0gMzQ0OwoJCX0KCiAgICB9CgoJJHNyYyA9ICcvL3BsYXllci52aW1lby5jb20vdmlk
ZW8vJyAuICR2aWRlbzsKCgkkcVN0cmluZyA9IGFycmF5KCk7CgoJLy8gQ2hlY2sgaWYgdGhl
IHBsYXllcidzIFVJIGNvbG91ciBpcyBiZWluZyBjdXN0b21pc2VkLgoJaWYgKCRjb2xvciAm
JiBwcmVnX21hdGNoKCd8XiM/KFthLXowLTldezZ9KSR8aScsICRjb2xvciwgJG1hdGNoKSkg
ewoJCSRxU3RyaW5nW10gPSAnY29sb3I9JyAuICRtYXRjaFsxXTsKCX0KCgkvLyBDaGVjayB3
aGV0aGVyIHRvIHNob3cgb3IgaGlkZSB0aGUgdXNlcidzIHBvcnRyYWl0IGZyb20gdGhlIHZp
ZGVvLgoJaWYgKCRwb3J0cmFpdCE9PW51bGwpIHsKCQkkcVN0cmluZ1tdID0gJ3BvcnRyYWl0
PScgLiAoJHBvcnRyYWl0ID8gJzEnIDogJzAnKTsKCX0KCgkvLyBDaGVjayB3aGV0aGVyIHRv
IHNob3cgb3IgaGlkZSB0aGUgdmlkZW8gdGl0bGUuCglpZiAoJHRpdGxlIT09bnVsbCkgewoJ
CSRxU3RyaW5nW10gPSAndGl0bGU9JyAuICgkdGl0bGUgPyAnMScgOiAnMCcpOwoJfQoKCS8v
IENoZWNrIHdoZXRoZXIgdG8gc2hvdyBvciBoaWRlIHRoZSB1c2VyJ3MgYnlsaW5lLgoJaWYg
KCRieWxpbmUhPT1udWxsKSB7CgkJJHFTdHJpbmdbXSA9ICdieWxpbmU9JyAuICgkYnlsaW5l
ID8gJzEnIDogJzAnKTsKCX0KCgkvLyBDaGVjayB3aGV0aGVyIHRvIHNob3cgb3IgaGlkZSB0
aGUgYmFkZ2UuCglpZiAoJGJhZGdlIT09bnVsbCkgewoJCSRxU3RyaW5nW10gPSAnYmFkZ2U9
JyAuICgkYmFkZ2UgPyAnMScgOiAnMCcpOwoJfQoKCS8vIENoZWNrIHdoZXRoZXIgdG8gcGxh
eSB0aGUgdmlkZW8gb24gbG9vcC4KCWlmICgkbG9vcCE9PW51bGwpIHsKCQkkcVN0cmluZ1td
ID0gJ2xvb3A9JyAuICgkbG9vcCA/ICcxJyA6ICcwJyk7Cgl9CgoJLy8gQ2hlY2sgd2hldGhl
ciB0byBlbmFibGUvZGlzYWJsZSBhdXRvcGF1c2UuCglpZiAoJGF1dG9wYXVzZSE9PW51bGwp
IHsKCQkkcVN0cmluZ1tdID0gJ2F1dG9wYXVzZT0nIC4gKCRhdXRvcGF1c2UgPyAnMScgOiAn
MCcpOwoJfQoKCS8vIENoZWNrIHdoZXRoZXIgdG8gZW5hYmxlL2Rpc2FibGUgYXV0b3BsYXku
CglpZiAoJGF1dG9wbGF5IT09bnVsbCkgewoJCSRxU3RyaW5nW10gPSAnYXV0b3BsYXk9JyAu
ICgkYXV0b3BsYXkgPyAnMScgOiAnMCcpOwoJfQoKCS8vIENoZWNrIGlmIHdlIG5lZWQgdG8g
YXBwZW5kIGEgcXVlcnkgc3RyaW5nIHRvIHRoZSB2aWRlbyBzcmMuCglpZiAoIWVtcHR5KCRx
U3RyaW5nKSkgewoJCSRzcmMgLj0gJz8nIC4gaW1wbG9kZSgnJmFtcDsnLCAkcVN0cmluZyk7
Cgl9CgoJJG91dCA9ICI8aWZyYW1lIHNyYz1cIiRzcmNcIiB3aWR0aD1cIiR3aWR0aFwiIGhl
aWdodD1cIiRoZWlnaHRcIiBmcmFtZWJvcmRlcj1cIjBcIiB3ZWJraXRhbGxvd2Z1bGxzY3Jl
ZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4iOwoKCXJl
dHVybiBkb0xhYmVsKCRsYWJlbCwgJGxhYmVsdGFnKSAuICgoJHdyYXB0YWcpID8gZG9UYWco
JG91dCwgJHdyYXB0YWcsICRjbGFzcykgOiAkb3V0KTsKCn0KCmZ1bmN0aW9uIGFyY19pZl92
aW1lbygkYXR0cywgJHRoaW5nKQp7CglnbG9iYWwgJHRoaXNhcnRpY2xlOwoKCWV4dHJhY3Qo
bEF0dHMoYXJyYXkoCgkJJ2N1c3RvbScgPT4gbnVsbCwKCQkndmlkZW8nID0+IG51bGwKCSks
ICRhdHRzKSk7CgoJJHJlc3VsdCA9ICR2aWRlbyA/IF9hcmNfdmltZW8oJHZpZGVvKSA6IF9h
cmNfdmltZW8oJHRoaXNhcnRpY2xlW3N0cnRvbG93ZXIoJGN1c3RvbSldKTsKCglyZXR1cm4g
cGFyc2UoRXZhbEVsc2UoJHRoaW5nLCAkcmVzdWx0KSk7Cn0KCmZ1bmN0aW9uIF9hcmNfdmlt
ZW8oJHZpZGVvKQp7CglpZiAocHJlZ19tYXRjaCgnI15odHRwcz86Ly8oKHBsYXllcnx3d3cp
XC4pP3ZpbWVvXC5jb20oL3ZpZGVvKT8vKFxkKykjaScsICR2aWRlbywgJG1hdGNoZXMpKSB7
CiAgICAJcmV0dXJuICRtYXRjaGVzWzRdOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKfQoi
O3M6MzoibWQ1IjtzOjMyOiIxNDFkNmZmYjAyMTY5NWVlZTM5ZWViZDkwNGQwYTA0ZCI7fQ==
